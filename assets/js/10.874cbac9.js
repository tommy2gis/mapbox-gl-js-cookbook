(window.webpackJsonp=window.webpackJsonp||[]).push([[10,51],{150:function(t,e,n){"use strict";var i=n(30),r=n(98)(2);i(i.P+i.F*!n(109)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},170:function(t,e,n){"use strict";var i=n(30),r=n(98)(0),o=n(109)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},180:function(t,e){},184:function(t,e){},189:function(t,e,n){"use strict";var i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var r,o,a=(1===(r=i).length&&(o=r,r=function(t,e){return i(o(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)>0?i=o:n=o+1}return n}}),s=a.right;var u=function(t){return null===t?NaN:+t},l=Array.prototype,c=(l.slice,l.map,Math.sqrt(50)),h=Math.sqrt(10),f=Math.sqrt(2),d=function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=g(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o};function g(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=c?10:o>=h?5:o>=f?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=c?10:o>=h?5:o>=f?2:1)}function p(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=c?r*=10:o>=h?r*=5:o>=f&&(r*=2),e<t?-r:r}var m=function(t,e,n){if(null==n&&(n=u),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(r-o)}};n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return m})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return p}))},213:function(t,e){e.f=Object.getOwnPropertySymbols},231:function(t,e,n){"use strict";function i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}n.d(e,"a",(function(){return i}))},247:function(t,e,n){"use strict";var i=n(57),r=n(58),o=n(64),a=n(63),s=n(86),u=n(65),l=n(330),c=n(333),h=n(314),f=n(396),d=n(477);n.d(e,"a",(function(){return m}));var g=[0,0,0,255],p={radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,getPosition:{type:"accessor",value:function(t){return t.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:g},getLineColor:{type:"accessor",value:g},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},m=function(t){function e(){return Object(i.a)(this,e),Object(o.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(r.a)(e,[{key:"getShaders",value:function(t){return Object(s.a)(Object(a.a)(e.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  vec3 offset = positions * project_pixel_size(outerRadiusPixels);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = smoothedge(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter);\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[l.a,c.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(t){var n=t.props,i=t.oldProps,r=t.changeFlags;if(Object(s.a)(Object(a.a)(e.prototype),"updateState",this).call(this,{props:n,oldProps:i,changeFlags:r}),r.extensionsChanged){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(t){var e=t.uniforms,n=this.context.viewport,i=this.props,r=i.radiusScale,o=i.radiusMinPixels,a=i.radiusMaxPixels,s=i.stroked,u=i.filled,l=i.lineWidthUnits,c=i.lineWidthScale,h=i.lineWidthMinPixels,f=i.lineWidthMaxPixels,d="pixels"===l?n.metersPerPixel:1;this.state.model.setUniforms(e).setUniforms({stroked:s?1:0,filled:u,radiusScale:r,radiusMinPixels:o,radiusMaxPixels:a,lineWidthScale:c*d,lineWidthMinPixels:h,lineWidthMaxPixels:f}).draw()}},{key:"_getModel",value:function(t){return new f.a(t,Object.assign(this.getShaders(),{id:this.props.id,geometry:new d.a({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}}),isInstanced:!0}))}}]),e}(h.a);m.layerName="ScatterplotLayer",m.defaultProps=p},289:function(t,e,n){var i=n(30);i(i.S+i.F*!n(1),"Object",{defineProperty:n(11).f})},290:function(t,e,n){var i=n(30);i(i.S+i.F*!n(1),"Object",{defineProperties:n(42)})},291:function(t,e,n){var i=n(30),r=n(292),o=n(12),a=n(23),s=n(293);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),u=a.f,l=r(i),c={},h=0;l.length>h;)void 0!==(n=u(i,e=l[h++]))&&s(c,e,n);return c}})},292:function(t,e,n){var i=n(33),r=n(213),o=n(4),a=n(2).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},293:function(t,e,n){"use strict";var i=n(11),r=n(21);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},294:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(277),r=n.n(i);function o(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},315:function(t,e,n){"use strict";var i={},r={};function o(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function a(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function s(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function u(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+s(-e,6):e>9999?"+"+s(e,6):s(e,4))+"-"+s(t.getUTCMonth()+1,2)+"-"+s(t.getUTCDate(),2)+(o?"T"+s(n,2)+":"+s(i,2)+":"+s(r,2)+"."+s(o,3)+"Z":r?"T"+s(n,2)+":"+s(i,2)+":"+s(r,2)+"Z":i||n?"T"+s(n,2)+":"+s(i,2)+"Z":"")}var l=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function s(t,e){var o,a=[],s=t.length,u=0,l=0,c=s<=0,h=!1;function f(){if(c)return r;if(h)return h=!1,i;var e,o,a=u;if(34===t.charCodeAt(a)){for(;u++<s&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(e=u)>=s?c=!0:10===(o=t.charCodeAt(u++))?h=!0:13===o&&(h=!0,10===t.charCodeAt(u)&&++u),t.slice(a+1,e-1).replace(/""/g,'"')}for(;u<s;){if(10===(o=t.charCodeAt(e=u++)))h=!0;else if(13===o)h=!0,10===t.charCodeAt(u)&&++u;else if(o!==n)continue;return t.slice(a,e)}return c=!0,t.slice(a,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(o=f())!==r;){for(var d=[];o!==i&&o!==r;)d.push(o),o=f();e&&null==(d=e(d,l++))||a.push(d)}return a}function l(e,n){return e.map((function(e){return n.map((function(t){return h(e[t])})).join(t)}))}function c(e){return e.map(h).join(t)}function h(t){return null==t?"":t instanceof Date?u(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,r=s(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=o(t);return function(i,r){return e(n(i),r,t)}}(t,e):o(t)}));return r.columns=i||[],r},parseRows:s,format:function(e,n){return null==n&&(n=a(e)),[n.map(h).join(t)].concat(l(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=a(t)),l(t,e).join("\n")},formatRows:function(t){return t.map(c).join("\n")},formatRow:c,formatValue:h}},c=l(","),h=c.parse,f=(c.parseRows,c.format,c.formatBody,c.formatRows,c.formatRow,c.formatValue,l("\t")),d=f.parse;f.parseRows,f.format,f.formatBody,f.formatRows,f.formatRow,f.formatValue;function g(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var p=function(t,e){return fetch(t,e).then(g)};function m(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),p(e,n).then((function(e){return t(e,i)}))}}var y=m(h);m(d);function v(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var b=function(t,e){return fetch(t,e).then(v)};function w(t){return function(e,n){return p(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}w("application/xml"),w("text/html"),w("image/svg+xml");n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return b}))},56:function(t,e,n){},59:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={DEFAULT:"mapbox://styles/huanglii/ck1n985b20oan1cmhp4i0o9c9?optimize=true",SATELLITE:"mapbox://styles/mapbox/satellite-v9",DARK:"mapbox://styles/huanglii/ck1ocwsbl1fja1cloy67tyefi?optimize=true",GRAY:"mapbox://styles/huanglii/ck1naxpm00gvj1co6r4pxgxzl?optimize=true",MONOCHROME:"mapbox://styles/huanglii/ck3gplwrs0baz1cpe6mgy8aap?optimize=true",FLUORESCENCE:"mapbox://styles/huanglii/ck23131s00los1cnz1qjms49i?optimize=true",WATERLIGHT:"mapbox://styles/huanglii/cjweb960x1nbn1drxxtuaz9cr?optimize=true"}},61:function(t,e,n){"use strict";var i=n(56);n.n(i).a},612:function(t,e,n){"use strict";var i=n(57),r=n(58),o=n(64),a=n(63),s=n(65),u=n(97),l=n(481),c=n(247),h=n(246),f=n(316),d=n(282);function g(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},r=n.startRow,o=void 0===r?0:r,a=n.endRow,s=void 0===a?t.length:a,l=o;l<s;l++){var c=t[l];u.a.assert(c&&c.geometry,"GeoJSON does not have geometry");var h=c.geometry;if("GeometryCollection"===h.type){u.a.assert(Array.isArray(h.geometries),"GeoJSON does not have geometries array");for(var f=h.geometries,d=0;d<f.length;d++){var g=f[d];p(g,i,e,c,l)}}else p(h,i,e,c,l)}return i}function p(t,e,n,i,r){var o=t.type,a=t.coordinates,s=e.pointFeatures,l=e.lineFeatures,c=e.polygonFeatures,h=e.polygonOutlineFeatures;if(function(t,e){var n=m[t];u.a.assert(n,"Unknown GeoJSON type ".concat(t));for(;e&&--n>0;)e=e[0];return e&&Number.isFinite(e[0])}(o,a))switch(o){case"Point":s.push(n({geometry:t},i,r));break;case"MultiPoint":a.forEach((function(t){s.push(n({geometry:{type:"Point",coordinates:t}},i,r))}));break;case"LineString":l.push(n({geometry:t},i,r));break;case"MultiLineString":a.forEach((function(t){l.push(n({geometry:{type:"LineString",coordinates:t}},i,r))}));break;case"Polygon":c.push(n({geometry:t},i,r)),a.forEach((function(t){h.push(n({geometry:{type:"LineString",coordinates:t}},i,r))}));break;case"MultiPolygon":a.forEach((function(t){c.push(n({geometry:{type:"Polygon",coordinates:t}},i,r)),t.forEach((function(t){h.push(n({geometry:{type:"LineString",coordinates:t}},i,r))}))}))}else u.a.warn("".concat(o," coordinates are malformed"))()}var m={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};n.d(e,"a",(function(){return b}));var y={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:{type:"accessor",value:[0,0,0,255]},getFillColor:{type:"accessor",value:[0,0,0,255]},getRadius:{type:"accessor",value:1},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};function v(t){return t.geometry.coordinates}var b=function(t){function e(){return Object(i.a)(this,e),Object(o.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(r.a)(e,[{key:"initializeState",value:function(){this.state={features:{}},this.props.getLineDashArray&&u.a.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(t){var e=t.props,n=t.changeFlags;if(n.dataChanged){var i=function(t){if(Array.isArray(t))return t;switch(u.a.assert(t.type,"GeoJSON does not have type"),t.type){case"Feature":return[t];case"FeatureCollection":return u.a.assert(Array.isArray(t.features),"GeoJSON does not have features array"),t.features;default:return[{geometry:t}]}}(e.data),r=this.getSubLayerRow.bind(this);if(Array.isArray(n.dataChanged)){var o=this.state.features,a={},s={};for(var l in o)a[l]=o[l].slice(),s[l]=[];var c=!0,h=!1,f=void 0;try{for(var p,m=n.dataChanged[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var y=p.value,v=g(i,r,y);for(var b in o)s[b].push(Object(d.a)({data:a[b],getIndex:function(t){return t.__source.index},dataRange:y,replace:v[b]}))}}catch(t){h=!0,f=t}finally{try{c||null==m.return||m.return()}finally{if(h)throw f}}this.setState({features:a,featuresDiff:s})}else this.setState({features:g(i,r),featuresDiff:{}})}}},{key:"renderLayers",value:function(){var t=this.state,e=t.features,n=t.featuresDiff,i=e.pointFeatures,r=e.lineFeatures,o=e.polygonFeatures,a=e.polygonOutlineFeatures,s=this.props,u=s.stroked,l=s.filled,d=s.extruded,g=s.wireframe,p=s.material,m=s.transitions,y=this.props,b=y.lineWidthUnits,w=y.lineWidthScale,x=y.lineWidthMinPixels,M=y.lineWidthMaxPixels,L=y.lineJointRounded,C=y.lineMiterLimit,P=y.pointRadiusScale,k=y.pointRadiusMinPixels,S=y.pointRadiusMaxPixels,O=y.elevationScale,N=y.lineDashJustified,A=this.props,j=A.getLineColor,F=A.getFillColor,R=A.getRadius,E=A.getLineWidth,_=A.getLineDashArray,W=A.getElevation,z=A.updateTriggers,D=this.getSubLayerClass("polygons-fill",f.a),T=this.getSubLayerClass("polygons-stroke",h.a),I=this.getSubLayerClass("line-strings",h.a),U=this.getSubLayerClass("points",c.a),G=this.shouldRenderSubLayer("polygons-fill",o)&&new D({_dataDiff:n.polygonFeatures&&function(){return n.polygonFeatures},extruded:d,elevationScale:O,filled:l,wireframe:g,material:p,getElevation:this.getSubLayerAccessor(W),getFillColor:this.getSubLayerAccessor(F),getLineColor:this.getSubLayerAccessor(j),transitions:m&&{getPolygon:m.geometry,getElevation:m.getElevation,getFillColor:m.getFillColor,getLineColor:m.getLineColor}},this.getSubLayerProps({id:"polygons-fill",updateTriggers:{getElevation:z.getElevation,getFillColor:z.getFillColor,getLineColor:z.getLineColor}}),{data:o,getPolygon:v});return[!d&&G,!d&&u&&this.shouldRenderSubLayer("polygons-stroke",a)&&new T({_dataDiff:n.polygonOutlineFeatures&&function(){return n.polygonOutlineFeatures},widthUnits:b,widthScale:w,widthMinPixels:x,widthMaxPixels:M,rounded:L,miterLimit:C,dashJustified:N,getColor:this.getSubLayerAccessor(j),getWidth:this.getSubLayerAccessor(E),getDashArray:this.getSubLayerAccessor(_),transitions:m&&{getPath:m.geometry,getColor:m.getLineColor,getWidth:m.getLineWidth}},this.getSubLayerProps({id:"polygons-stroke",updateTriggers:{getColor:z.getLineColor,getWidth:z.getLineWidth,getDashArray:z.getLineDashArray}}),{data:a,getPath:v}),this.shouldRenderSubLayer("linestrings",r)&&new I({_dataDiff:n.lineFeatures&&function(){return n.lineFeatures},widthUnits:b,widthScale:w,widthMinPixels:x,widthMaxPixels:M,rounded:L,miterLimit:C,dashJustified:N,getColor:this.getSubLayerAccessor(j),getWidth:this.getSubLayerAccessor(E),getDashArray:this.getSubLayerAccessor(_),transitions:m&&{getPath:m.geometry,getColor:m.getLineColor,getWidth:m.getLineWidth}},this.getSubLayerProps({id:"line-strings",updateTriggers:{getColor:z.getLineColor,getWidth:z.getLineWidth,getDashArray:z.getLineDashArray}}),{data:r,getPath:v}),this.shouldRenderSubLayer("points",i)&&new U({_dataDiff:n.pointFeatures&&function(){return n.pointFeatures},stroked:u,filled:l,radiusScale:P,radiusMinPixels:k,radiusMaxPixels:S,lineWidthUnits:b,lineWidthScale:w,lineWidthMinPixels:x,lineWidthMaxPixels:M,getFillColor:this.getSubLayerAccessor(F),getLineColor:this.getSubLayerAccessor(j),getRadius:this.getSubLayerAccessor(R),getLineWidth:this.getSubLayerAccessor(E),transitions:m&&{getPosition:m.geometry,getFillColor:m.getFillColor,getLineColor:m.getLineColor,getRadius:m.getRadius,getLineWidth:m.getLineWidth}},this.getSubLayerProps({id:"points",updateTriggers:{getFillColor:z.getFillColor,getLineColor:z.getLineColor,getRadius:z.getRadius,getLineWidth:z.getLineWidth}}),{data:i,getPosition:v}),d&&G]}}]),e}(l.a);b.layerName="GeoJsonLayer",b.defaultProps=y},62:function(t,e,n){"use strict";n.r(e);n(67),n(68),n(66),n(31);var i=n(76),r=n.n(i),o=n(71),a=n.n(o),s=(n(77),n(73)),u=n(74),l=function(){function t(e){Object(s.a)(this,t),this._className="mapboxgl-ctrl",this._options=Object.assign({},{zoom:1,center:[0,0]},e),this._onClickHome=this._onClickHome.bind(this)}return Object(u.a)(t,[{key:"onAdd",value:function(t){return this._map=t,this._container=c.create("div","".concat(this._className," mapboxgl-ctrl-group")),this._render(),this._container}},{key:"onRemove",value:function(){c.remove(this._container),this._map=void 0}},{key:"_render",value:function(){var t=c.create("button","".concat(this._className,"-icon ").concat(this._className,"-home"),this._container);t.type="button",t.addEventListener("click",this._onClickHome)}},{key:"_onClickHome",value:function(){this._map.easeTo(this._options)}}]),t}(),c={create:function(t,e,n){var i=window.document.createElement(t);return void 0!==e&&(i.className=e),n&&n.appendChild(i),i},remove:function(t){t.parentNode&&t.parentNode.removeChild(t)}},h=n(59),f=(n(78),{name:"base-map",props:{height:{type:Number,default:520},mapOptions:{type:Object},mapClickable:{type:Boolean,default:!0},borderOptions:{type:Object}},data:function(){return{map:null,maploaded:!1,mapDefaultOptions:{container:r()(),style:h.a.DEFAULT,center:[-74.5,40],zoom:6,minZoom:0,maxZoom:22,scrollZoom:!0,pitch:0,bearing:0,antialias:!1},borderDefaultOptions:{layout:{visibility:"none"},paint:{"line-color":"hsl(357, 67%, 60%)","line-opacity":["step",["zoom"],1,10,0],"line-width":["interpolate",["linear"],["zoom"],0,1,22,3]},beforeId:""}}},computed:{mapContainer:function(){return this.mapOptions.container||this.mapDefaultOptions.container}},mounted:function(){var t=Object.assign({},this.mapDefaultOptions,this.mapOptions);this.initMap(t),window.addEventListener("resize",this.resize)},methods:{initMap:function(t){a.a.accessToken="pk.eyJ1IjoiaHVhbmdsaWkiLCJhIjoiY2pzNHBtendwMDZ2ZDQzbnVmZXdtMDlvdiJ9.GSija86yNNR4ssBtFFpx0g",this.map=new a.a.Map(t),this.map.addControl(new a.a.NavigationControl,"top-left");var e=t.center,n=t.zoom,i=t.pitch,r=t.bearing;this.map.addControl(new l({center:e,zoom:n,pitch:i,bearing:r}),"bottom-left"),this.map.addControl(new a.a.FullscreenControl,"top-left"),this.map.on("load",this.handleMapLoaded)},handleMapLoaded:function(t){this.maploaded=!0,this.$emit("load",t.target),this.mapClickable&&this.map.on("click",this.handleMapClick)},handleMapClick:function(t){console.log(t.lngLat);var e=this.map.queryRenderedFeatures(t.point);if(e.length>0){var n=e[0],i=n.layer,r=n.properties;Object.keys(r).length>0&&(new a.a.Popup).setLngLat(t.lngLat).setHTML(this.createPropHtml(i.id,r)).addTo(this.map)}},createPropHtml:function(t,e){return'\n        <div class="title"><b>'.concat(t,'</b></div>\n        <div class="content">\n          ').concat(Object.keys(e).map((function(t){return"".concat("<p><b>".concat(t,": </b>").concat(e[t],"</p>"))})).join(""),"\n        </div>\n      ")},addBorderLayer:function(){var t=Object.assign({},this.borderDefaultOptions,this.borderOptions),e=t.layout,n=t.paint,i=t.beforeId;this.map.addSource("border",{type:"vector",url:"mapbox://huanglii.4nxu8jv0"}),this.map.addLayer({id:"border-2oej0r",source:"border","source-layer":"Border-2oej0r",type:"line",layout:e,paint:n},i||void 0)},resize:function(){this.map.resize()}}}),d=(n(61),n(0)),g=Object(d.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map-wrapper"},[e("div",{style:{width:"100%",height:this.height+"px",borderRadius:"6px"},attrs:{id:this.mapContainer}},[this._t("custom")],2),this._v(" "),this.maploaded?this._t("default"):this._e()],2)}),[],!1,null,null,null);e.default=g.exports},642:function(t,e,n){"use strict";n.r(e);var i=n(62),r=(n(289),n(290),n(291),n(150),n(68),n(31),n(294)),o=(n(67),n(170),n(641)),a=n(612),s=n(189),u=n(231);var l=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function c(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function h(){}var f="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,m=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),y=new RegExp("^rgb\\("+[g,g,g]+"\\)$"),v=new RegExp("^rgba\\("+[f,f,f,d]+"\\)$"),b=new RegExp("^rgba\\("+[g,g,g,d]+"\\)$"),w=new RegExp("^hsl\\("+[d,g,g]+"\\)$"),x=new RegExp("^hsla\\("+[d,g,g,d]+"\\)$"),M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function L(){return this.rgb().formatHex()}function C(){return this.rgb().formatRgb()}function P(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=p.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?k(e):3===n?new A(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new A(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new A(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=m.exec(t))?new A(e[1],e[2],e[3],1):(e=y.exec(t))?new A(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=v.exec(t))?S(e[1],e[2],e[3],e[4]):(e=b.exec(t))?S(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=w.exec(t))?E(e[1],e[2]/100,e[3]/100,1):(e=x.exec(t))?E(e[1],e[2]/100,e[3]/100,e[4]):M.hasOwnProperty(t)?k(M[t]):"transparent"===t?new A(NaN,NaN,NaN,0):null}function k(t){return new A(t>>16&255,t>>8&255,255&t,1)}function S(t,e,n,i){return i<=0&&(t=e=n=NaN),new A(t,e,n,i)}function O(t){return t instanceof h||(t=P(t)),t?new A((t=t.rgb()).r,t.g,t.b,t.opacity):new A}function N(t,e,n,i){return 1===arguments.length?O(t):new A(t,e,n,null==i?1:i)}function A(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function j(){return"#"+R(this.r)+R(this.g)+R(this.b)}function F(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function R(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function E(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new W(t,e,n,i)}function _(t){if(t instanceof W)return new W(t.h,t.s,t.l,t.opacity);if(t instanceof h||(t=P(t)),!t)return new W;if(t instanceof W)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new W(a,s,u,t.opacity)}function W(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function z(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function D(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}l(h,P,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:L,formatHex:L,formatHsl:function(){return _(this).formatHsl()},formatRgb:C,toString:C}),l(A,N,c(h,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new A(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new A(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j,formatHex:j,formatRgb:F,toString:F})),l(W,(function(t,e,n,i){return 1===arguments.length?_(t):new W(t,e,n,null==i?1:i)}),c(h,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new W(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new W(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new A(z(t>=240?t-240:t+120,r,i),z(t,r,i),z(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var T=function(t){return function(){return t}};function I(t,e){return function(n){return t+n*e}}function U(t){return 1==(t=+t)?G:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):T(isNaN(e)?n:e)}}function G(t,e){var n=e-t;return n?I(t,n):T(isNaN(t)?e:t)}var H=function t(e){var n=U(e);function i(t,e){var i=n((t=N(t)).r,(e=N(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=G(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function J(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=N(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}J((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return D((n-i/e)*e,a,r,o,s)}})),J((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return D((n-i/e)*e,r,o,a,s)}}));var $=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function q(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function V(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=tt(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var Z=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},B=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},K=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=tt(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},X=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y=new RegExp(X.source,"g");var Q=function(t,e){var n,i,r,o=X.lastIndex=Y.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=X.exec(t))&&(i=Y.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:B(n,i)})),o=Y.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},tt=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?T(e):("number"===i?B:"string"===i?(n=P(e))?(e=n,H):Q:e instanceof P?H:e instanceof Date?Z:q(e)?$:Array.isArray(e)?V:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?K:B)(t,e)},et=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},nt=function(t){return+t},it=[0,1];function rt(t){return t}function ot(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function at(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=ot(r,i),o=n(a,o)):(i=ot(i,r),o=n(o,a)),function(t){return o(i(t))}}function st(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=ot(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Object(s.b)(t,e,1,i)-1;return o[n](r[n](e))}}function ut(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lt(){var t,e,n,i,r,o,a=it,s=it,u=tt,l=rt;function c(){var t,e,n,u=Math.min(a.length,s.length);return l!==rt&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),i=u>2?st:at,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=i(s,a.map(t),B)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,nt),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=et,c()},h.clamp=function(t){return arguments.length?(l=!!t||rt,c()):l!==rt},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function ct(){return lt()(rt,rt)}var ht=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ft(t){if(!(e=ht.exec(t)))throw new Error("invalid format: "+t);var e;return new dt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function dt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}ft.prototype=dt.prototype,dt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var gt,pt,mt,yt,vt=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},bt=function(t){return(t=vt(Math.abs(t)))?t[1]:NaN},wt=function(t,e){var n=vt(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},xt={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return wt(100*t,e)},r:wt,s:function(t,e){var n=vt(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(gt=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+vt(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Mt=function(t){return t},Lt=Array.prototype.map,Ct=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];pt=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Mt:(e=Lt.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Mt:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Lt.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ft(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):xt[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===f?r:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?u:"",x=xt[v],M=/[defgprs%]/.test(v);function L(t){var r,o,u,f=b,L=w;if("c"===v)L=x(t)+L,t="";else{var C=(t=+t)<0;if(t=isNaN(t)?c:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),C&&0==+t&&(C=!1),f=(C?"("===h?h:l:"-"===h||"("===h?"":h)+f,L=("s"===v?Ct[8+gt/3]:"")+L+(C&&"("===h?")":""),M)for(r=-1,o=t.length;++r<o;)if(48>(u=t.charCodeAt(r))||u>57){L=(46===u?a+t.slice(r+1):t.slice(r))+L,t=t.slice(0,r);break}}p&&!d&&(t=i(t,1/0));var P=f.length+t.length+L.length,k=P<g?new Array(g-P+1).join(e):"";switch(p&&d&&(t=i(k+t,k.length?g-L.length:1/0),k=""),n){case"<":t=f+t+L+k;break;case"=":t=f+k+t+L;break;case"^":t=k.slice(0,P=k.length>>1)+f+t+L+k.slice(P);break;default:t=k+f+t+L}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),L.toString=function(){return t+""},L}return{format:h,formatPrefix:function(t,e){var n=h(((t=ft(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(bt(e)/3))),r=Math.pow(10,-i),o=Ct[8+i/3];return function(t){return n(r*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),mt=pt.format,yt=pt.formatPrefix;var Pt=function(t,e,n,i){var r,o=Object(s.e)(t,e,n);switch((i=ft(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bt(e)/3)))-bt(Math.abs(t)))}(o,a))||(i.precision=r),yt(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bt(e)-bt(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-bt(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return mt(i)};function kt(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(s.f)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Pt(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,u=r[o],l=r[a];return l<u&&(i=u,u=l,l=i,i=o,o=a,a=i),(i=Object(s.d)(u,l,n))>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=Object(s.d)(u,l,n)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=Object(s.d)(u,l,n)),i>0?(r[o]=Math.floor(u/i)*i,r[a]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(u*i)/i,r[a]=Math.floor(l*i)/i,e(r)),t},t}var St=n(315);function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Nt="https://uber.osgis.cn/uber-common/deck.gl-data/master/examples/highway/accidents.csv",At="https://uber.osgis.cn/uber-common/deck.gl-data/master/examples/highway/roads.json";function jt(t){var e=t.state,n=t.type,i=t.id;return"".concat(e,"-").concat(n,"-").concat(i)}var Ft=function t(){var e,n=[.5],i=[0,1],r=1;function o(t){return t<=t?i[Object(s.b)(n,t,0,r)]:e}return o.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=Array.from(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(i).unknown(e)},u.a.apply(o,arguments)}().domain([0,12,20,32,84,136,220,400,500,600]).range([[26,152,80],[102,189,99],[166,217,106],[217,239,139],[255,255,191],[254,224,139],[253,174,97],[244,109,67],[215,48,39],[168,0,0]]),Rt=function t(){var e=ct();return e.copy=function(){return ut(e,t())},u.a.apply(e,arguments),kt(e)}().clamp(!0).domain([0,200]).range([10,2e3]),Et={latitude:38,longitude:-100,zoom:4,minZoom:2,maxZoom:8};function _t(t,e){var n=At,i={},s={};return Object(St.a)(Nt,(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{incidents:Number(t.incidents),fatalities:Number(t.fatalities)})})).then((function(t){var e;i={},s={},(e=t)&&e.forEach((function(t){var e=i[t.year]=i[t.year]||{},n=s[t.year]=s[t.year]||{},r=jt(t);e[r]=t.incidents,n[r]=t.fatalities}))})),new o.a({canvas:e,id:e,width:"100%",height:"100%",style:{postion:"relative",top:"0px"},initialViewState:Et,controller:!0,onViewStateChange:function(e){var n=e.viewState;t.jumpTo({center:[n.longitude,n.latitude],zoom:n.zoom,bearing:n.bearing,pitch:n.pitch})},layers:[new a.a({id:"geojson",data:n,opacity:1,stroked:!1,filled:!1,lineWidthMinPixels:.5,parameters:{depthTest:!1},getLineColor:function(t){return function(t,e){if(!e)return[200,200,200];var n=(e[jt(t.properties)]||0)/t.properties.length*1e3;return Ft(n)}(t,s[2015])},getLineWidth:function(t){return function(t,e){if(!e)return 10;var n=(e[jt(t.properties)]||0)/t.properties.length*1e3;return Rt(n)}(t,i[2015])},updateTriggers:{getLineColor:{year:2015},getLineWidth:{year:2015}},transitions:{getLineColor:1e3,getLineWidth:1e3}})]})}var Wt={components:{baseMap:i.default},data:function(){return{mapOptions:{style:STYLE.DARK,center:[-100,38],zoom:4,pitch:50,bearing:0},canvasId:"highway-canvas"}},methods:{handleMapLoaded:function(t){_t(t,this.canvasId)}}},zt=n(0),Dt=Object(zt.a)(Wt,(function(){var t=this.$createElement,e=this._self._c||t;return e("base-map",{attrs:{"map-options":this.mapOptions},on:{load:this.handleMapLoaded}},[e("canvas",{staticStyle:{"z-index":"2"},attrs:{slot:"custom",id:this.canvasId},slot:"custom"})])}),[],!1,null,null,null);e.default=Dt.exports}}]);